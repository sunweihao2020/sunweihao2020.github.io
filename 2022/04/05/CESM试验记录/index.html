<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="CESM2试验记录2021&#x2F;9&#x2F;1将中南半岛地形设置为1m 1234567891011.&#x2F;create_newcase --case topo_indo_1m_intel --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapicd topo_indo_1m_intel.&#x2F;xml">
<meta property="og:type" content="article">
<meta property="og:title" content="CESM2试验记录">
<meta property="og:url" content="http://example.com/2022/04/05/CESM%E8%AF%95%E9%AA%8C%E8%AE%B0%E5%BD%95/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="CESM2试验记录2021&#x2F;9&#x2F;1将中南半岛地形设置为1m 1234567891011.&#x2F;create_newcase --case topo_indo_1m_intel --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapicd topo_indo_1m_intel.&#x2F;xml">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z4a.net/images/2022/04/05/image-20210906105857784.png">
<meta property="og:image" content="https://z4a.net/images/2022/04/05/image-20220327200136190.png">
<meta property="og:image" content="https://z4a.net/images/2022/04/05/image-20220328094233889.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/04/05/qLGp7R.png">
<meta property="article:published_time" content="2022-04-05T00:52:08.000Z">
<meta property="article:modified_time" content="2022-08-05T02:39:05.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="CESM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z4a.net/images/2022/04/05/image-20210906105857784.png">

<link rel="canonical" href="http://example.com/2022/04/05/CESM%E8%AF%95%E9%AA%8C%E8%AE%B0%E5%BD%95/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>CESM2试验记录 | Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/05/CESM%E8%AF%95%E9%AA%8C%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CESM2试验记录
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-05 08:52:08" itemprop="dateCreated datePublished" datetime="2022-04-05T08:52:08+08:00">2022-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-05 10:39:05" itemprop="dateModified" datetime="2022-08-05T10:39:05+08:00">2022-08-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/model/" itemprop="url" rel="index"><span itemprop="name">model</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="CESM2试验记录"><a href="#CESM2试验记录" class="headerlink" title="CESM2试验记录"></a>CESM2试验记录</h1><h3 id="2021-x2F-9-x2F-1"><a href="#2021-x2F-9-x2F-1" class="headerlink" title="2021&#x2F;9&#x2F;1"></a>2021&#x2F;9&#x2F;1</h3><p>将中南半岛地形设置为1m</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case topo_indo_1m_intel --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd topo_indo_1m_intel</span><br><span class="line">./xmlchange NTASKS=-24 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=5</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../control/user_nl_cam .</span><br><span class="line">cp ../control/sbatch1.sh .</span><br></pre></td></tr></table></figure>



<h1 id="控制实验"><a href="#控制实验" class="headerlink" title="控制实验"></a>控制实验</h1><p><strong>wgx</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case control_220416 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi2</span><br><span class="line">cd control_220416</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india8/user_nl_cam .</span><br><span class="line">cp ../replace_india8/sbatch1.sh .</span><br></pre></td></tr></table></figure>



<h2 id="去除高原大地形"><a href="#去除高原大地形" class="headerlink" title="去除高原大地形"></a>去除高原大地形</h2><h3 id="2021-x2F-9-x2F-6"><a href="#2021-x2F-9-x2F-6" class="headerlink" title="2021&#x2F;9&#x2F;6"></a>2021&#x2F;9&#x2F;6</h3><ol>
<li>在第一次实验中，将青藏高原和伊朗高原都去除，地形设置为200m</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://z4a.net/image/2H9VET"><img src="https://z4a.net/images/2022/04/05/image-20210906105857784.png" alt="image-20210906105857784.png"></a></p>
<h4 id="试验记录"><a href="#试验记录" class="headerlink" title="试验记录"></a>试验记录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case topo_indo_no_plateau --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd topo_indo_no_plateau</span><br><span class="line">./xmlchange NTASKS=-24 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=5</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../topo_all_1m_intel2/user_nl_cam .</span><br><span class="line">cp ../topo_all_1m_intel2/sbatch1.sh .</span><br></pre></td></tr></table></figure>





<h1 id="更改海陆分布实验（一）印度大陆"><a href="#更改海陆分布实验（一）印度大陆" class="headerlink" title="更改海陆分布实验（一）印度大陆"></a>更改海陆分布实验（一）印度大陆</h1><h2 id="试验记录-1"><a href="#试验记录-1" class="headerlink" title="试验记录"></a>试验记录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case india_to_ocean2 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=1</span><br><span class="line">./xmlchange RESUBMIT=3</span><br><span class="line">./case.setup</span><br><span class="line">cp ../topo_all_1m_intel2/user_nl_cam .</span><br><span class="line">cp ../topo_all_1m_intel2/sbatch1.sh .</span><br><span class="line">!除此之外docn，cice均作了相应修改</span><br></pre></td></tr></table></figure>

<p>结果：无法正常运行，调查原因显示陆地与海洋的fraction不匹配</p>
<p><span style='color:red;background:white;font-size:50;font-family:楷体;'>这里寻找其他的办法</span></p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/paleo/faq/#intro">reource for cesm1.2 paleosimulations</a></p>
<h2 id="制作mapping文件"><a href="#制作mapping文件" class="headerlink" title="制作mapping文件"></a>制作mapping文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/file_for_cesm_change_domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/file_for_cesm_change_domain/gx1v6_090205_swh.nc -nocn gx1PT --nogridcheck</span><br></pre></td></tr></table></figure>

<p>报错</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh  --serial -fatm ~/swh/file_for_cesm_change_domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/file_for_cesm_change_domain/gx1v6_090205_swh.nc -nocn gx1PT --nogridcheck</span><br></pre></td></tr></table></figure>

<p>报错</p>
<p>这里试试使用官方的格点文件排查一下可能的错误</p>
<p><a target="_blank" rel="noopener" href="https://z4a.net/image/2H9jiv"><img src="https://z4a.net/images/2022/04/05/image-20220327200136190.png" alt="image-20220327200136190.png"></a></p>
<p>还是不行</p>
<p>调查&#x2F;public1&#x2F;home&#x2F;wgx&#x2F;swh&#x2F;cesm2.1.3&#x2F;cime&#x2F;tools&#x2F;mapping&#x2F;gen_mapping_files下的PET0.RegridWeightGen.Log文件</p>
<p><a target="_blank" rel="noopener" href="https://z4a.net/image/2H9yzn"><img src="https://z4a.net/images/2022/04/05/image-20220328094233889.png" alt="image-20220328094233889.png"></a></p>
<p><font color='red'>显示似乎是NETCDF模块的问题</font></p>
<p>尝试重新安装ESMF，这里参考知乎上的教程</p>
<p>第二次安装时候的设置</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qLGp7R"><img src="https://s1.ax1x.com/2022/04/05/qLGp7R.png" alt="qLGp7R.png"></a></p>
<p>以上设置在make地阶段就坏了，这里只是把编译器换成intel的试了试</p>
<p><font color='red'>使用intel的编译器安装倒是成功了，但还是显示上述问题，看来依然需要在编译的时候出了问题</font></p>
<p>那就，重装吧</p>
<p>第一次尝试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export ESMF_NETCDF=&quot;split&quot;</span><br><span class="line">export ESMF_NETCDF_INCLUDE=/public1/home/wgx/swh/app/oneapi/netcdf4/include</span><br><span class="line">export ESMF_NETCDF_LIBPATH=/public1/home/wgx/swh/app/oneapi/netcdf4/lib</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">export</span> ESMF_NETCDF_LIBS=<span class="string">&quot;-lnetcdf -lnetcdff&quot;</span></span></span><br></pre></td></tr></table></figure>



<p><font color='red'>domain文件制作成功，接下来放进模式中试试</font></p>
<p><strong>制作domain文件流程记录</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/file_for_cesm_change_domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/file_for_cesm_change_domain/gx1v7_151008_swh.nc -nocn gx1PT --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1PT_TO_fv09_125_aave.220329.nc -o gx1PT -l fv09_125</span><br></pre></td></tr></table></figure>



<p><strong>第一次尝试</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_1 --res f09_g16 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_1</span><br><span class="line">./xmlchange NTASKS=-20 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test1/user_nl_cam .</span><br><span class="line">cp ../f2000_test1/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_2 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_2</span><br><span class="line">./xmlchange NTASKS=-20 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test1/user_nl_cam .</span><br><span class="line">cp ../f2000_test1/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_3 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_3</span><br><span class="line">./xmlchange NTASKS=-20 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<p><strong>这里我对clm的namelist进行了修改，但是随后在编译的过程中出现了报错</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">err=ERROR : CLM build-namelist::CLMBuildNamelist::setup_logic_lnd_frac() : Can NOT set both -lnd_frac option (set via LND_DOMAIN_PATH/LND_DOMAIN_FILE env variables) AND fatmlndfrac on namelist</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这里使用xmlchange对lnd吃进去的domain文件进行了修改，但是cpl的mapping文件却无法修改成功，只在user_nl_cpl里修改会报错</p>
<p>这里编译成功了，但是运行的过程中报错了，明天试试修改ATM_DOMAIN_FILE</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_4 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_4</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_5 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_5</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_aave.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_blin.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_patc.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_TO_fv09_125_aave.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_TO_fv09_125_aave.220329.nc&#x27;</span><br></pre></td></tr></table></figure>

<p><font color='red'>结果是报错：</font></p>
<p> ERROR: surfdata&#x2F;fatmgrid lon&#x2F;lat mismatch error  5.684341886080801E-014</p>
<p>这里我换个组件试试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_6 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_6</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_aave.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_blin.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_patc.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_TO_fv09_125_aave.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_TO_fv09_125_aave.220329.nc&#x27;</span><br></pre></td></tr></table></figure>

<p>这里我尝试修改源代码，增大lat&#x2F;lon的判定范围试试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_7 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_7</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_aave.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_blin.220329.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1PT_patc.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_TO_fv09_125_aave.220329.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_TO_fv09_125_aave.220329.nc&#x27;</span><br><span class="line">cp ../change_domain_6/user_nl_docn .</span><br><span class="line">cp ../change_domain_6/user_nl_cice .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>还是他妈的报错，这里准备重新自己制作一个不修改海陆分布的试试，看看问题出在哪</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/file_for_cesm_change_domain/fv0.9x1.25_141008.nc -natm fv09_125_1 -focn ~/swh/file_for_cesm_change_domain/gx1v7_151008.nc -nocn gx1PT_1</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_8 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_8</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_1_gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_1_gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_1_TO_gx1PT_1_aave.220331.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_1_TO_gx1PT_1_blin.220331.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_1_TO_gx1PT_1_patc.220331.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_1_TO_fv09_125_1_aave.220331.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_1_TO_fv09_125_1_aave.220331.nc&#x27;</span><br><span class="line">cp ../change_domain_6/user_nl_docn .</span><br><span class="line">cp ../change_domain_6/user_nl_cice .</span><br></pre></td></tr></table></figure>

<p>尝试控制实验</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_8 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_8</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_1_gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_1_gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1PT_1.220331.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_1_TO_gx1PT_1_aave.220331.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_1_TO_gx1PT_1_blin.220331.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_1_TO_gx1PT_1_patc.220331.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_1_TO_fv09_125_1_aave.220331.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1PT_1_TO_fv09_125_1_aave.220331.nc&#x27;</span><br></pre></td></tr></table></figure>

<p><font color='red'>结果成功了</font></p>
<h3 id="2022-4-1再次尝试"><a href="#2022-4-1再次尝试" class="headerlink" title="2022-4-1再次尝试"></a>2022-4-1再次尝试</h3><p><strong>制作domain文件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/gx1v7_151008.nc -nocn gx1pt --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1pt_TO_fv09_125_aave.220401.nc -o gx1pt -l fv09_125 -p 2</span><br><span class="line">cp domain.lnd.fv09_125_gx1pt.220401.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cp domain.ocn.gx1pt.220401.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cd ../gen_mapping_files/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/fv0.9x1.25/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/gx1v7/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>尝试</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_10 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_10</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">cp ../change_domain_6/user_nl_docn .</span><br><span class="line">cp ../change_domain_6/user_nl_cice .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>去除印度大陆</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/gx1v7_151008_swh.nc -nocn gx1pt_swh --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1pt_swh_TO_fv09_125_aave.220401.nc -o gx1pt_swh -l fv09_125 -p 2</span><br><span class="line">cp domain.lnd.fv09_125_gx1pt_swh.220401.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cp domain.ocn.gx1pt_swh.220401.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cd ../gen_mapping_files/</span><br><span class="line">cp map_gx1pt_swh_TO_fv09_125_* ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/gx1v7/</span><br><span class="line">cp map_fv09_125_TO_gx1pt_swh_* ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/fv0.9x1.25/</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_domain_11 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_domain_11</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=4</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_test10/user_nl_cam .</span><br><span class="line">cp ../f2000_test10/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">cp ../change_domain_6/user_nl_docn .</span><br><span class="line">cp ../change_domain_6/user_nl_cice .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>正式实验</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_india4 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd replace_india4</span><br><span class="line">./xmlchange NTASKS=-16 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=10</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>正式实验2</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_india5 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd replace_india5</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=1</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=1</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>

<p>这种反复提交的会报错，我也不知道为什么，只能设置一个一次跑完的了</p>
<p><strong>正式实验3</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_india8 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd replace_india8</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="测试服务器的resubmit问题：使用过程中第二次提交的时候总会有问题"><a href="#测试服务器的resubmit问题：使用过程中第二次提交的时候总会有问题" class="headerlink" title="测试服务器的resubmit问题：使用过程中第二次提交的时候总会有问题"></a>测试服务器的resubmit问题：使用过程中第二次提交的时候总会有问题</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_india7 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd replace_india7</span><br><span class="line">./xmlchange NTASKS=-4 </span><br><span class="line">./xmlchange STOP_OPTION=ndays</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=10</span><br><span class="line">./xmlchange REST_OPTION=ndays</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>

<p>这里我怀疑是mpi的问题，</p>
<h4 id="测试mpi-这里是openmpi服务器自带的"><a href="#测试mpi-这里是openmpi服务器自带的" class="headerlink" title="测试mpi 这里是openmpi服务器自带的"></a>测试mpi 这里是openmpi服务器自带的</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case test_resubmit1 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd test_resubmit1</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=ndays</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=10</span><br><span class="line">./xmlchange REST_OPTION=ndays</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>

<p>会不会是reset文件没跟上呢？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case test_resubmit2 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd test_resubmit2</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=ndays</span><br><span class="line">./xmlchange STOP_N=10</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=5</span><br><span class="line">./xmlchange REST_OPTION=ndays</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>



<h4 id="测试新装的oneapi"><a href="#测试新装的oneapi" class="headerlink" title="测试新装的oneapi"></a>测试新装的oneapi</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case test_oneapi1 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi2</span><br><span class="line">cd test_oneapi1</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india3/user_nl_cam .</span><br><span class="line">cp ../replace_india3/user_nl_docn .</span><br><span class="line">cp ../replace_india3/user_nl_cice .</span><br><span class="line">cp ../replace_india3/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>

<h1 id="更改海陆分布实验（二）中南半岛"><a href="#更改海陆分布实验（二）中南半岛" class="headerlink" title="更改海陆分布实验（二）中南半岛"></a>更改海陆分布实验（二）中南半岛</h1><h2 id="制作domain文件"><a href="#制作domain文件" class="headerlink" title="制作domain文件"></a>制作domain文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/gx1v7_151008_noinch.nc -nocn gx1pt_noinch --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1pt_noinch_TO_fv09_125_aave.220406.nc -o gx1pt_noinch -l fv09_125 -p 2</span><br><span class="line">cp *.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cd ../gen_mapping_files/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/gx1v7/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/fv0.9x1.25/</span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_inch --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi2</span><br><span class="line">cd replace_inch</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india8/user_nl_cam .</span><br><span class="line">cp ../replace_india8/user_nl_docn .</span><br><span class="line">cp ../replace_india8/user_nl_cice .</span><br><span class="line">cp ../replace_india8/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_noinch_aave.220406.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_noinch_blin.220406.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_noinch_patc.220406.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_noinch_TO_fv09_125_aave.220406.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_noinch_TO_fv09_125_aave.220406.nc&#x27;</span><br></pre></td></tr></table></figure>



<h1 id="更改海陆分布实验（三）-海洋性大陆"><a href="#更改海陆分布实验（三）-海洋性大陆" class="headerlink" title="更改海陆分布实验（三） 海洋性大陆"></a>更改海陆分布实验（三） 海洋性大陆</h1><p><strong>制作domain文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/domain/gx1v7_220410_nomarinland.nc -nocn gx1pt_nomarinland --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1pt_nomarinland_TO_fv09_125_aave.220410.nc -o gx1v7_nomarinland -l fv09_125 -p 2</span><br><span class="line">cp *.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cd ../gen_mapping_files/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/gx1v7/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/fv0.9x1.25/</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_marinland --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi2</span><br><span class="line">cd replace_marinland</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india8/user_nl_cam .</span><br><span class="line">cp ../replace_india8/user_nl_docn .</span><br><span class="line">cp ../replace_india8/user_nl_cice .</span><br><span class="line">cp ../replace_india8/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_nomarinland.220410.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_nomarinland.220410.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_nomarinland.220410.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_nomarinland.220410.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_nomarinland_aave.220410.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_nomarinland_blin.220410.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_nomarinland_patc.220410.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_nomarinland_TO_fv09_125_aave.220410.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_nomarinland_TO_fv09_125_aave.220410.nc&#x27;</span><br></pre></td></tr></table></figure>

<h1 id="更改海陆分布实验（四）-索马里地区"><a href="#更改海陆分布实验（四）-索马里地区" class="headerlink" title="更改海陆分布实验（四） 索马里地区"></a>更改海陆分布实验（四） 索马里地区</h1><p><strong>制作domain文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/domain/gx1v7_220410_somali.nc -nocn gx1v7_somali --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1pt_nomarinland_TO_fv09_125_aave.220410.nc -o gx1v7_nomarinland -l fv09_125 -p 2</span><br></pre></td></tr></table></figure>

<p>该实验在lym上跑</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_somali --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd replace_somali</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv_09125_gx1v7_somali.220410.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv_09125_gx1v7_somali.220410.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_somali.220410.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_somali.220410.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_somali_aave.220410.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_somali_blin.220410.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_somali_patc.220410.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_somali_TO_fv09_125_aave.220410.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_somali_TO_fv09_125_aave.220410.nc&#x27;</span><br></pre></td></tr></table></figure>



<h1 id="更改海陆分布实验-（五）-去除印度大陆及中南半岛"><a href="#更改海陆分布实验-（五）-去除印度大陆及中南半岛" class="headerlink" title="更改海陆分布实验 （五） 去除印度大陆及中南半岛"></a>更改海陆分布实验 （五） 去除印度大陆及中南半岛</h1><p><strong>制作domain文件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/domain/gx1v7_151008_noinch_noindian.nc -nocn gx1v7_noinch_noindian --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1v7_noinch_noindian_TO_fv09_125_aave.220420.nc -o gx1v7_noinch_noindian -l fv09_125 -p 2</span><br><span class="line">cp *.nc /public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/</span><br><span class="line">cd ../gen_mapping_files/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/gx1v7/</span><br><span class="line">cp *nc ~/swh/cesm2.1.3/inputdata/cpl/gridmaps/fv0.9x1.25/</span><br></pre></td></tr></table></figure>

<p>该实验在lym上跑</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_inch_indian --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi2</span><br><span class="line">cd replace_inch_indian</span><br><span class="line">./xmlchange NTASKS=-20</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india8/user_nl_cam .</span><br><span class="line">cp ../replace_india8/user_nl_docn .</span><br><span class="line">cp ../replace_india8/user_nl_cice .</span><br><span class="line">cp ../replace_india8/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_noinch_noindian_aave.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_noinch_noindian_blin.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_noinch_noindian_patc.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_noinch_noindian_TO_fv09_125_aave.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_noinch_noindian_TO_fv09_125_aave.220420.nc&#x27;</span><br></pre></td></tr></table></figure>



<h1 id="更改海陆分布实验-（六）-去除印度大陆及海洋性大陆"><a href="#更改海陆分布实验-（六）-去除印度大陆及海洋性大陆" class="headerlink" title="更改海陆分布实验 （六） 去除印度大陆及海洋性大陆"></a>更改海陆分布实验 （六） 去除印度大陆及海洋性大陆</h1><p><strong>生成domain文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./gen_cesm_maps.sh --serial -fatm ~/swh/data/domain/fv0.9x1.25_141008.nc -natm fv09_125 -focn ~/swh/data/domain/gx1v7_151008_nosealand_noindian.nc -nocn gx1v7_nosealand_noindian --nogridcheck</span><br><span class="line">./gen_domain -m ../gen_mapping_files/map_gx1v7_noinch_noindian_TO_fv09_125_aave.220420.nc -o gx1v7_noinch_noindian -l fv09_125 -p 2</span><br></pre></td></tr></table></figure>

<p>该实验在lym上跑</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case replace_sealand_indian --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd replace_sealand_indian</span><br><span class="line">./xmlchange NTASKS=-20</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_somali/user_nl_cam .</span><br><span class="line">cp ../replace_somali/user_nl_docn .</span><br><span class="line">cp ../replace_somali/user_nl_cice .</span><br><span class="line">cp ../replace_somali/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_nosealand_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_nosealand_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_nosealand_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_nosealand_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_nosealand_noindian_aave.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_nosealand_noindian_blin.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_nosealand_noindian_patc.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_nosealand_noindian_TO_fv09_125_aave.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_nosealand_noindian_TO_fv09_125_aave.220420.nc&#x27;</span><br></pre></td></tr></table></figure>



<h1 id="海温实验"><a href="#海温实验" class="headerlink" title="海温实验"></a>海温实验</h1><h3 id="f2000-test1"><a href="#f2000-test1" class="headerlink" title="f2000_test1"></a>f2000_test1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case topo_indo_no_plateau --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd topo_indo_no_plateau</span><br><span class="line">./xmlchange NTASKS=-24 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=24</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=5</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br></pre></td></tr></table></figure>



<h3 id="测试能不能跑起来"><a href="#测试能不能跑起来" class="headerlink" title="测试能不能跑起来"></a>测试能不能跑起来</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_test6 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_test6</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br><span class="line">cp ../f2000_test1/user_nl_cam .</span><br><span class="line">cp ../f2000_test1/sbatch1.sh .</span><br></pre></td></tr></table></figure>



<h3 id="测试能不能跑起来-更换更新的openmpi测试"><a href="#测试能不能跑起来-更换更新的openmpi测试" class="headerlink" title="测试能不能跑起来(更换更新的openmpi测试)"></a>测试能不能跑起来(更换更新的openmpi测试)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_test8 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_test8</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br><span class="line">cp ../f2000_test6/user_nl_cam .</span><br><span class="line">cp ../f2000_test6/sbatch1.sh .</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="测试mpi3"><a href="#测试mpi3" class="headerlink" title="测试mpi3"></a>测试mpi3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_test9 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_test9</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br><span class="line">cp ../f2000_test6/user_nl_cam .</span><br><span class="line">cp ../f2000_test6/sbatch1.sh .</span><br><span class="line"></span><br><span class="line">不可行</span><br></pre></td></tr></table></figure>

<h3 id="测试服务器自带的module"><a href="#测试服务器自带的module" class="headerlink" title="测试服务器自带的module"></a>测试服务器自带的module</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_test10 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_test10</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br><span class="line">cp ../f2000_test6/user_nl_cam .</span><br><span class="line">cp ../f2000_test6/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<h3 id="程序报错-试试fhist能不能跑"><a href="#程序报错-试试fhist能不能跑" class="headerlink" title="程序报错 试试fhist能不能跑"></a>程序报错 试试fhist能不能跑</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case fhist_test1 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd fhist_test1</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br><span class="line">cp ../f2000_test6/user_nl_cam .</span><br><span class="line">cp ../f2000_test6/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<p>FHIST是可以跑的，看来问题还是出在f2000的实验设置上，下一步检查inputdata是否有问题</p>
<h1 id="F2000-一-控制实验"><a href="#F2000-一-控制实验" class="headerlink" title="F2000 (一) 控制实验"></a>F2000 (一) 控制实验</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_control_220513 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_control_220513</span><br><span class="line">./xmlchange NTASKS=-12 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup</span><br><span class="line">cp ../replace_somali/user_nl_cam .</span><br><span class="line">cp ../replace_somali/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<h1 id="F2000（二）无印度大陆实验-lym服务器"><a href="#F2000（二）无印度大陆实验-lym服务器" class="headerlink" title="F2000（二）无印度大陆实验 lym服务器"></a>F2000（二）无印度大陆实验 lym服务器</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case change_indian_220515 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd change_indian_220515</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_sealand_indian/user_nl_cam .</span><br><span class="line">cp ../replace_sealand_indian/user_nl_docn .</span><br><span class="line">cp ../replace_sealand_indian/user_nl_cice .</span><br><span class="line">cp ../replace_sealand_indian/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_swh.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_blin.220401.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_swh_patc.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_swh_TO_fv09_125_aave.220401.nc&#x27;</span><br></pre></td></tr></table></figure>



<h1 id="F2000-三-无中南半岛实验-wgx服务器"><a href="#F2000-三-无中南半岛实验-wgx服务器" class="headerlink" title="F2000 (三) 无中南半岛实验 wgx服务器"></a>F2000 (三) 无中南半岛实验 wgx服务器</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_replace_inch_220519 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_replace_inch_220519</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../replace_india8/user_nl_cam .</span><br><span class="line">cp ../replace_india8/user_nl_docn .</span><br><span class="line">cp ../replace_india8/user_nl_cice .</span><br><span class="line">cp ../replace_india8/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/wgx/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1pt_noinch.220406.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_noinch_aave.220406.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_noinch_blin.220406.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1pt_noinch_patc.220406.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_noinch_TO_fv09_125_aave.220406.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1pt_noinch_TO_fv09_125_aave.220406.nc&#x27;</span><br></pre></td></tr></table></figure>

<h1 id="F2000-四-无中南半岛及印度大陆实验-lym服务器"><a href="#F2000-四-无中南半岛及印度大陆实验-lym服务器" class="headerlink" title="F2000(四)无中南半岛及印度大陆实验 lym服务器"></a>F2000(四)无中南半岛及印度大陆实验 lym服务器</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_replace_inch_indian2 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_replace_inch_indian2</span><br><span class="line">./xmlchange NTASKS=-16</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line">cp ../f2000_replace_inch_indian/user_nl_cam .</span><br><span class="line">cp ../f2000_replace_inch_indian/user_nl_docn .</span><br><span class="line">cp ../f2000_replace_inch_indian/user_nl_cice .</span><br><span class="line">cp ../f2000_replace_inch_indian/sbatch1.sh .</span><br><span class="line">./xmlchange ATM_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange LND_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.lnd.fv09_125_gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange ICE_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN_DOMAIN_FILE=&#x27;/public1/home/lym/swh/cesm2.1.3/inputdata/share/domains/domain.ocn.gx1v7_noinch_noindian.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_FMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_noinch_noindian_aave.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_SMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_noinch_noindian_blin.220420.nc&#x27;</span><br><span class="line">./xmlchange ATM2OCN_VMAPNAME=&#x27;cpl/gridmaps/fv0.9x1.25/map_fv09_125_TO_gx1v7_noinch_noindian_patc.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_FMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_noinch_noindian_TO_fv09_125_aave.220420.nc&#x27;</span><br><span class="line">./xmlchange OCN2ATM_SMAPNAME=&#x27;cpl/gridmaps/gx1v7/map_gx1v7_noinch_noindian_TO_fv09_125_aave.220420.nc&#x27;</span><br></pre></td></tr></table></figure>





<h1 id="F2000-test-on-lym"><a href="#F2000-test-on-lym" class="headerlink" title="F2000 (test on lym)"></a>F2000 (test on lym)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case f2000_test_220514 --res f09_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd f2000_test_220514</span><br><span class="line">./xmlchange NTASKS=-12 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup</span><br></pre></td></tr></table></figure>





<h1 id="高分辨率实验"><a href="#高分辨率实验" class="headerlink" title="高分辨率实验"></a>高分辨率实验</h1><p><strong>lym</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case fhist_highres4 --res f05_g17 --compset F2000climo --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd fhist_highres4</span><br><span class="line">./xmlchange NTASKS=-20</span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br><span class="line">./case.setup </span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h1 id="耦合实验"><a href="#耦合实验" class="headerlink" title="耦合实验"></a>耦合实验</h1><h2 id="test-B1850"><a href="#test-B1850" class="headerlink" title="test B1850"></a>test B1850</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case test_b1850 --res f09_g17 --compset B1850 --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd test_b1850</span><br><span class="line">./xmlchange NTASKS=-12 </span><br><span class="line">./xmlchange STOP_OPTION=nyears</span><br><span class="line">./xmlchange STOP_N=2</span><br><span class="line">./xmlchange RESUBMIT=10</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nyears</span><br></pre></td></tr></table></figure>







<h1 id="CESM使用过程中的bug"><a href="#CESM使用过程中的bug" class="headerlink" title="CESM使用过程中的bug"></a>CESM使用过程中的bug</h1><p><strong>在continue run的过程中，无法成功提交，我猜想是mpi的问题</strong></p>
<p>后续在中南半岛实验中试一下，使用相同的mpi再continue run</p>
<h1 id="服务器使用过程中的记录"><a href="#服务器使用过程中的记录" class="headerlink" title="服务器使用过程中的记录"></a>服务器使用过程中的记录</h1><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><ol>
<li><p>注意！！如果使用oneapi环境的话，首先是sun(alias，配置第一步环境)，然后oneapi(alias, 设置编译器)</p>
<p>然后要source swh文件夹下的oneapi.sh 配置第二步环境才可以</p>
</li>
</ol>
<h2 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h2><p>module服务器自带的mpi才好用，自己编译的mpi就算使用中模式编译成功了，也跑不起来</p>
<h1 id="关于F2000运行中的输入问题"><a href="#关于F2000运行中的输入问题" class="headerlink" title="关于F2000运行中的输入问题"></a>关于F2000运行中的输入问题</h1><p>在我运行f2000的过程中报错，提示是输入文件的问题，文件名为</p>
<p>tracer_cnst_file &#x3D; &#x2F;public1&#x2F;home&#x2F;lym&#x2F;swh&#x2F;cesm2.1.3&#x2F;inputdata&#x2F;atm&#x2F;cam&#x2F;ozone&#x2F;tracer_cnst_CAM6chem_2000climo_3D_monthly_c171004.nc</p>
<p>诡异的是ncdump还能出来结果，但是文件大小只有51m，后来在另一个服务器wgx上面比对发现那里面的是三百多兆，把文件拿过来用就能正常运行了</p>
<h2 id="配置刘老师服务器"><a href="#配置刘老师服务器" class="headerlink" title="配置刘老师服务器"></a>配置刘老师服务器</h2><p>跑模式测试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">./create_newcase --case lym_test3 --res f09_g17 --compset FHIST --run-unsupported --compiler intel --mach oneapi</span><br><span class="line">cd lym_test3</span><br><span class="line">./xmlchange NTASKS=-8 </span><br><span class="line">./xmlchange STOP_OPTION=nmonths</span><br><span class="line">./xmlchange STOP_N=5</span><br><span class="line">./xmlchange RESUBMIT=2</span><br><span class="line">./xmlchange REST_N=2</span><br><span class="line">./xmlchange REST_OPTION=nmonths</span><br><span class="line">./case.setup</span><br><span class="line">cp ../f2000_test6/user_nl_cam .</span><br><span class="line">cp ../f2000_test6/sbatch1.sh .</span><br></pre></td></tr></table></figure>

<p>这里总结一下登录刘老师服务器后的设置</p>
<p>登陆之后 ‘sun’,然后读取source文件就可以了</p>
<h1 id="CESM2实验日志"><a href="#CESM2实验日志" class="headerlink" title="CESM2实验日志"></a>CESM2实验日志</h1><h2 id="F2000系列实验"><a href="#F2000系列实验" class="headerlink" title="F2000系列实验"></a>F2000系列实验</h2><p><font color='red'>之前跑的FHIST实验我认为可能引入了无关变量，这里跑一组F2000的实验</font></p>
<h3 id="控制实验-1"><a href="#控制实验-1" class="headerlink" title="控制实验"></a>控制实验</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">平台 wgx </span><br><span class="line">时间 2022-5-13 </span><br><span class="line">案例名 f2000_control_220513</span><br><span class="line">已同步至本地</span><br><span class="line"></span><br><span class="line">问题记录：由于内存空间不够发现已断开，已提交重新跑(20)</span><br></pre></td></tr></table></figure>

<h3 id="无印度大陆实验"><a href="#无印度大陆实验" class="headerlink" title="无印度大陆实验"></a>无印度大陆实验</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">平台 lym</span><br><span class="line">时间 2022-5-15 </span><br><span class="line">案例名 change_indian_220515</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="无中南半岛实验"><a href="#无中南半岛实验" class="headerlink" title="无中南半岛实验"></a>无中南半岛实验</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">平台 wgx</span><br><span class="line">时间 2022-5-19</span><br><span class="line">案例名 f2000_replace_inch</span><br></pre></td></tr></table></figure>

<h2 id="无中南半岛及印度大陆实验"><a href="#无中南半岛及印度大陆实验" class="headerlink" title="无中南半岛及印度大陆实验"></a>无中南半岛及印度大陆实验</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">平台 lym</span><br><span class="line">时间 2022-5-20</span><br><span class="line">案例名 f2000_replace_inch_indian2</span><br></pre></td></tr></table></figure>





<h1 id="网上资源"><a href="#网上资源" class="headerlink" title="网上资源"></a>网上资源</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38607066/article/details/109445839?spm=1001.2014.3001.5502">(58条消息) CESM2 实验笔记_一株草的世界的博客-CSDN博客</a></p>
<h2 id="Controlling-starting-stopping-and-restarting-a-run"><a href="#Controlling-starting-stopping-and-restarting-a-run" class="headerlink" title="Controlling starting, stopping and restarting a run"></a>Controlling starting, stopping and restarting a run</h2><p>The case initialization type is set in <code>env_run.xml</code>. A CESM run can be initialized in one of three ways; startup, branch, or hybrid.</p>
<ul>
<li><p>startup</p>
<p>In a startup run (the default), all components are initialized using baseline states. These baseline states are set independently by each component and can include the use of restart files, initial files, external observed data files, or internal initialization (i.e., a “cold start”). In a startup run, the coupler sends the start date to the components at initialization. In addition, the coupler does not need an input data file. In a startup initialization, the ocean model does not start until the second ocean coupling (normally the second day).</p>
</li>
<li><p>branch</p>
<p>In a branch run, all components are initialized using a consistent set of restart files from a previous run (determined by the $<code>RUN_REFCASE</code> and $<code>RUN_REFDATE</code> variables in <code>env_run.xml</code>). The case name is generally changed for a branch run, although it does onot have to be. In a branch run, setting $<code>RUN_STARTDATE</code> is ignored because the model components obtain the start date from their restart datasets. Therefore, the start date cannot be changed for a branch run. This is the same mechanism that is used for performing a restart run (where $<code>CONTINUE_RUN</code> is set to TRUE in the <code>env_run.xml</code> file).Branch runs are typically used when sensitivity or parameter studies are required, or when settings for history file output streams need to be modified while still maintaining bit-for-bit reproducibility. Under this scenario, the new case is able to produce an exact bit-for-bit restart in the same manner as a continuation run <em>if</em> no source code or component namelist inputs are modified. All models use restart files to perform this type of run. $<code>RUN_REFCASE</code> and $<code>RUN_REFDATE</code> are required for branch runs.To set up a branch run, locate the restart tar file or restart directory for $<code>RUN_REFCASE</code> and $<code>RUN_REFDATE</code> from a previous run, then place those files in the $<code>RUNDIR</code> directory. See <a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/cesm1.1/cesm/doc/usersguide/x2012.html">setting up a branch run</a> for an example.</p>
</li>
<li><p>hybrid</p>
<p>A hybrid run indicates that CESM is initialized more like a startup, but uses initialization datasets <em>from a previous case</em>. This is somewhat analogous to a branch run with relaxed restart constraints. A hybrid run allows users to bring together combinations of initial&#x2F;restart files from a previous case (specified by $<code>RUN_REFCASE</code>) at a given model output date (specified by $<code>RUN_REFDATE</code>). Unlike a branch run, the starting date of a hybrid run (specified by $<code>RUN_STARTDATE</code>) can be modified relative to the reference case. In a hybrid run, the model does not continue in a bit-for-bit fashion with respect to the reference case. The resulting climate, however, should be continuous provided that no model source code or namelists are changed in the hybrid run. In a hybrid initialization, the ocean model does not start until the second ocean coupling (normally the second day), and the coupler does a “cold start” without a restart file.</p>
</li>
</ul>
<p>The variable <code>$RUN_TYPE</code> determines the initialization type. This setting is only important for the initial run of a production run when the <code>$CONTINUE_RUN</code> variable is set to FALSE. After the initial run, the <code>$CONTINUE_RUN</code> variable is set to TRUE, and the model restarts exactly using input files in a case, date, and bit-for-bit continuous fashion. The variable <code>$RUN_TYPE</code> is the start date (in yyyy-mm-dd format) either a startup or hybrid run. If the run is targeted to be a hybrid or branch run, you must also specify values for <code>$RUN_REFCASE</code> and <code>$RUN_REFDATE</code>. All run startup variables are discussed in <a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/cesm1.1/cesm/doc/modelnl/env_run.html#run_start">run start control variables</a>.</p>
<p>Before a job is submitted to the batch system, you need to first check that the batch submission lines in <code>$CASE.run</code> are appropriate. These lines should be checked and modified accordingly for appropriate account numbers, time limits, and stdout&#x2F;stderr file names. You should then modify <code>env_run.xml</code> to determine the key run-time settings. See <a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/cesm1.1/cesm/doc/modelnl/env_run.html#run_stop">controlling run termination</a>, <a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/cesm1.1/cesm/doc/modelnl/env_run.html#run_rest">controlling run restarts</a>, and <a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/cesm1.1/cesm/doc/usersguide/x1594.html#running_ccsm_restarts">performing model restarts </a>for more details. A brief note on restarting runs. When you first begin a branch, hybrid or startup run, CONTINUE_RUN must be set to FALSE. When you successfully run and get a restart file, you will need to change CONTINUE_RUN to TRUE for the remainder of your run. See <a target="_blank" rel="noopener" href="https://www.cesm.ucar.edu/models/cesm1.1/cesm/doc/usersguide/x1594.html#running_ccsm_restarts">performing model restarts </a>for more details.</p>
<p>By default,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STOP_OPTION = ndays STOP_N = 5 STOP_DATE = -999 </span><br></pre></td></tr></table></figure>



<p>The default setting is only appropriate for initial testing. Before a longer run is started, update the stop times based on the case throughput and batch queue limits. For example, if the model runs 5 model years&#x2F;day, set <code>RESUBMIT</code>&#x3D;30, <code>STOP_OPTION</code>&#x3D; nyears, and <code>STOP_N</code>&#x3D; 5. The model will then run in five year increments, and stop after 30 submissions.</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CESM/" rel="tag"># CESM</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/04/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" rel="prev" title="常用命令">
      <i class="fa fa-chevron-left"></i> 常用命令
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/05/%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C%E7%A7%AF%E7%B4%AF/" rel="next" title="论文写作积累">
      论文写作积累 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#CESM2%E8%AF%95%E9%AA%8C%E8%AE%B0%E5%BD%95"><span class="nav-number">1.</span> <span class="nav-text">CESM2试验记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2021-x2F-9-x2F-1"><span class="nav-number">1.0.1.</span> <span class="nav-text">2021&#x2F;9&#x2F;1</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%AE%9E%E9%AA%8C"><span class="nav-number">2.</span> <span class="nav-text">控制实验</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%BB%E9%99%A4%E9%AB%98%E5%8E%9F%E5%A4%A7%E5%9C%B0%E5%BD%A2"><span class="nav-number">2.1.</span> <span class="nav-text">去除高原大地形</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2021-x2F-9-x2F-6"><span class="nav-number">2.1.1.</span> <span class="nav-text">2021&#x2F;9&#x2F;6</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%95%E9%AA%8C%E8%AE%B0%E5%BD%95"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">试验记录</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%B5%B7%E9%99%86%E5%88%86%E5%B8%83%E5%AE%9E%E9%AA%8C%EF%BC%88%E4%B8%80%EF%BC%89%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86"><span class="nav-number">3.</span> <span class="nav-text">更改海陆分布实验（一）印度大陆</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%95%E9%AA%8C%E8%AE%B0%E5%BD%95-1"><span class="nav-number">3.1.</span> <span class="nav-text">试验记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">3.1.1.</span> <span class="nav-text">参考资料</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%B6%E4%BD%9Cmapping%E6%96%87%E4%BB%B6"><span class="nav-number">3.2.</span> <span class="nav-text">制作mapping文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2022-4-1%E5%86%8D%E6%AC%A1%E5%B0%9D%E8%AF%95"><span class="nav-number">3.2.1.</span> <span class="nav-text">2022-4-1再次尝试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84resubmit%E9%97%AE%E9%A2%98%EF%BC%9A%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%8F%90%E4%BA%A4%E7%9A%84%E6%97%B6%E5%80%99%E6%80%BB%E4%BC%9A%E6%9C%89%E9%97%AE%E9%A2%98"><span class="nav-number">3.2.2.</span> <span class="nav-text">测试服务器的resubmit问题：使用过程中第二次提交的时候总会有问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95mpi-%E8%BF%99%E9%87%8C%E6%98%AFopenmpi%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%B8%A6%E7%9A%84"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">测试mpi 这里是openmpi服务器自带的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%96%B0%E8%A3%85%E7%9A%84oneapi"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">测试新装的oneapi</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%B5%B7%E9%99%86%E5%88%86%E5%B8%83%E5%AE%9E%E9%AA%8C%EF%BC%88%E4%BA%8C%EF%BC%89%E4%B8%AD%E5%8D%97%E5%8D%8A%E5%B2%9B"><span class="nav-number">4.</span> <span class="nav-text">更改海陆分布实验（二）中南半岛</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%B6%E4%BD%9Cdomain%E6%96%87%E4%BB%B6"><span class="nav-number">4.1.</span> <span class="nav-text">制作domain文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%B5%B7%E9%99%86%E5%88%86%E5%B8%83%E5%AE%9E%E9%AA%8C%EF%BC%88%E4%B8%89%EF%BC%89-%E6%B5%B7%E6%B4%8B%E6%80%A7%E5%A4%A7%E9%99%86"><span class="nav-number">5.</span> <span class="nav-text">更改海陆分布实验（三） 海洋性大陆</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%B5%B7%E9%99%86%E5%88%86%E5%B8%83%E5%AE%9E%E9%AA%8C%EF%BC%88%E5%9B%9B%EF%BC%89-%E7%B4%A2%E9%A9%AC%E9%87%8C%E5%9C%B0%E5%8C%BA"><span class="nav-number">6.</span> <span class="nav-text">更改海陆分布实验（四） 索马里地区</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%B5%B7%E9%99%86%E5%88%86%E5%B8%83%E5%AE%9E%E9%AA%8C-%EF%BC%88%E4%BA%94%EF%BC%89-%E5%8E%BB%E9%99%A4%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86%E5%8F%8A%E4%B8%AD%E5%8D%97%E5%8D%8A%E5%B2%9B"><span class="nav-number">7.</span> <span class="nav-text">更改海陆分布实验 （五） 去除印度大陆及中南半岛</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%B5%B7%E9%99%86%E5%88%86%E5%B8%83%E5%AE%9E%E9%AA%8C-%EF%BC%88%E5%85%AD%EF%BC%89-%E5%8E%BB%E9%99%A4%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86%E5%8F%8A%E6%B5%B7%E6%B4%8B%E6%80%A7%E5%A4%A7%E9%99%86"><span class="nav-number">8.</span> <span class="nav-text">更改海陆分布实验 （六） 去除印度大陆及海洋性大陆</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B5%B7%E6%B8%A9%E5%AE%9E%E9%AA%8C"><span class="nav-number">9.</span> <span class="nav-text">海温实验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#f2000-test1"><span class="nav-number">9.0.1.</span> <span class="nav-text">f2000_test1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E8%83%BD%E4%B8%8D%E8%83%BD%E8%B7%91%E8%B5%B7%E6%9D%A5"><span class="nav-number">9.0.2.</span> <span class="nav-text">测试能不能跑起来</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E8%83%BD%E4%B8%8D%E8%83%BD%E8%B7%91%E8%B5%B7%E6%9D%A5-%E6%9B%B4%E6%8D%A2%E6%9B%B4%E6%96%B0%E7%9A%84openmpi%E6%B5%8B%E8%AF%95"><span class="nav-number">9.0.3.</span> <span class="nav-text">测试能不能跑起来(更换更新的openmpi测试)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95mpi3"><span class="nav-number">9.0.4.</span> <span class="nav-text">测试mpi3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%B8%A6%E7%9A%84module"><span class="nav-number">9.0.5.</span> <span class="nav-text">测试服务器自带的module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E6%8A%A5%E9%94%99-%E8%AF%95%E8%AF%95fhist%E8%83%BD%E4%B8%8D%E8%83%BD%E8%B7%91"><span class="nav-number">9.0.6.</span> <span class="nav-text">程序报错 试试fhist能不能跑</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#F2000-%E4%B8%80-%E6%8E%A7%E5%88%B6%E5%AE%9E%E9%AA%8C"><span class="nav-number">10.</span> <span class="nav-text">F2000 (一) 控制实验</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#F2000%EF%BC%88%E4%BA%8C%EF%BC%89%E6%97%A0%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86%E5%AE%9E%E9%AA%8C-lym%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">11.</span> <span class="nav-text">F2000（二）无印度大陆实验 lym服务器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#F2000-%E4%B8%89-%E6%97%A0%E4%B8%AD%E5%8D%97%E5%8D%8A%E5%B2%9B%E5%AE%9E%E9%AA%8C-wgx%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">12.</span> <span class="nav-text">F2000 (三) 无中南半岛实验 wgx服务器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#F2000-%E5%9B%9B-%E6%97%A0%E4%B8%AD%E5%8D%97%E5%8D%8A%E5%B2%9B%E5%8F%8A%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86%E5%AE%9E%E9%AA%8C-lym%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">13.</span> <span class="nav-text">F2000(四)无中南半岛及印度大陆实验 lym服务器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#F2000-test-on-lym"><span class="nav-number">14.</span> <span class="nav-text">F2000 (test on lym)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%AB%98%E5%88%86%E8%BE%A8%E7%8E%87%E5%AE%9E%E9%AA%8C"><span class="nav-number">15.</span> <span class="nav-text">高分辨率实验</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%80%A6%E5%90%88%E5%AE%9E%E9%AA%8C"><span class="nav-number">16.</span> <span class="nav-text">耦合实验</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#test-B1850"><span class="nav-number">16.1.</span> <span class="nav-text">test B1850</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CESM%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84bug"><span class="nav-number">17.</span> <span class="nav-text">CESM使用过程中的bug</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="nav-number">18.</span> <span class="nav-text">服务器使用过程中的记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="nav-number">18.1.</span> <span class="nav-text">环境配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BUG"><span class="nav-number">18.2.</span> <span class="nav-text">BUG</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B3%E4%BA%8EF2000%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84%E8%BE%93%E5%85%A5%E9%97%AE%E9%A2%98"><span class="nav-number">19.</span> <span class="nav-text">关于F2000运行中的输入问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%88%98%E8%80%81%E5%B8%88%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">19.1.</span> <span class="nav-text">配置刘老师服务器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CESM2%E5%AE%9E%E9%AA%8C%E6%97%A5%E5%BF%97"><span class="nav-number">20.</span> <span class="nav-text">CESM2实验日志</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#F2000%E7%B3%BB%E5%88%97%E5%AE%9E%E9%AA%8C"><span class="nav-number">20.1.</span> <span class="nav-text">F2000系列实验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%AE%9E%E9%AA%8C-1"><span class="nav-number">20.1.1.</span> <span class="nav-text">控制实验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86%E5%AE%9E%E9%AA%8C"><span class="nav-number">20.1.2.</span> <span class="nav-text">无印度大陆实验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E4%B8%AD%E5%8D%97%E5%8D%8A%E5%B2%9B%E5%AE%9E%E9%AA%8C"><span class="nav-number">20.1.3.</span> <span class="nav-text">无中南半岛实验</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E4%B8%AD%E5%8D%97%E5%8D%8A%E5%B2%9B%E5%8F%8A%E5%8D%B0%E5%BA%A6%E5%A4%A7%E9%99%86%E5%AE%9E%E9%AA%8C"><span class="nav-number">20.2.</span> <span class="nav-text">无中南半岛及印度大陆实验</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%91%E4%B8%8A%E8%B5%84%E6%BA%90"><span class="nav-number">21.</span> <span class="nav-text">网上资源</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Controlling-starting-stopping-and-restarting-a-run"><span class="nav-number">21.1.</span> <span class="nav-text">Controlling starting, stopping and restarting a run</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">91</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
